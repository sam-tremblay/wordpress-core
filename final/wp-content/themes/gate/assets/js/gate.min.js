"use strict";var gatePageTransition={el:"gate-pt-wrapper",target:"a",init:function(){var i,a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},o=a.el||this.el,s=document.getElementById(o),t=document.querySelectorAll(a.target||this.target);s&&a.onLeave&&(i=0,t.forEach(function(t){var r=t.getAttribute("href")?t.getAttribute("href"):t.getAttribute("data-href");t.addEventListener("click",function(t){var e,n;t.preventDefault(),r&&(e=new Promise(function(t,e){t(a.onLeave())}),(n=new XMLHttpRequest).open("GET",r),n.send(),n.onreadystatechange=function(){var t;4==n.readyState&&200==n.status&&(t=(new DOMParser).parseFromString(n.responseText,"text/html"),Promise.all([e]).then(function(){s.innerHTML=t.getElementById(o).innerHTML,i+=1,document.title=t.title,window.history.pushState({html:s.innerHTML,title:t.title,history_increment:i},"",n.responseURL),a.onEnter&&a.onEnter(),window.onpopstate=function(t){console.log(t),t.state&&t.state.history_increment<i?(--i,s.innerHTML=t.state.html,document.title=t.state.title):t.state&&t.state.history_increment>i&&(i+=1,s.innerHTML=t.state.html,document.title=t.state.title)}}))})})}))}};